<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Babygirl</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background-color: black;
            color: white;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        #title-ribbon {
            background: linear-gradient(90deg, violet, lavender);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            font-size: 1.5em;
            font-weight: bold;
            user-select: none;
        }
        #title-text {
            cursor: pointer;
            flex-grow: 1;
            text-align: center;
            font-family: 'Comic Sans MS', cursive, sans-serif;
        }
        #average-score {
            font-size: 1em;
            background-color: rgba(75, 0, 130, 0.7);
            padding: 5px 10px;
            border-radius: 10px;
            cursor: default;
        }
        #left-panel {
            background-color: #4b0082;
            width: 200px;
            display: flex;
            flex-direction: column;
            padding: 10px 0;
            flex-shrink: 0;
        }
        .tab {
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-bottom: 1px solid lavender;
            user-select: none;
        }
        .tab:hover {
            background-color: lavender;
            color: black;
            font-weight: bold;
            transform: scale(1.05);
        }
        #main-content {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            background-color: #1a001a;
            color: white;
            font-size: 1.2em;
        }
        #bottom-ribbon {
            background-color: #4b0082;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
        }
        #bottom-ribbon button {
            background-color: lavender;
            border: none;
            color: black;
            padding: 10px 20px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 5px;
            user-select: none;
        }
        #bottom-ribbon button:hover {
            background-color: violet;
            color: white;
            transform: scale(1.1);
        }
        #btn-weekly-tasks {
            flex-grow: 1;
            max-width: 300px;
            font-weight: bold;
        }
        #floating-output {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: rgba(75, 0, 130, 0.9);
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px violet;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s ease;
            max-width: 300px;
            font-size: 1em;
            z-index: 1000;
        }
        .mind-option, .drive-option, .pending-task, .active-task {
            padding: 12px;
            margin: 8px 0;
            background: rgba(138, 43, 226, 0.3);
            border: 1px solid lavender;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .mind-option:hover, .drive-option:hover, .pending-task:hover, .active-task:hover {
            background: rgba(138, 43, 226, 0.7);
            transform: scale(1.02);
        }
        .drive-panel {
            display: none;
            flex-direction: column;
        }
        .drive-panel.show {
            display: flex;
        }
        .scoring-table {
            width: 100%;
            border-collapse: collapse;
        }
        .scoring-table th, .scoring-table td {
            border: 1px solid lavender;
            padding: 8px;
            text-align: left;
        }
        #chatbox {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: rgba(75, 0, 130, 0.9);
            width: 300px;
            border-radius: 10px;
            box-shadow: 0 0 10px violet;
            font-size: 1em;
            z-index: 1000;
            display: none;
        }
        #chatbox-content {
            max-height: 200px;
            overflow-y: auto;
            padding: 10px;
        }
        #chatbox-input {
            width: calc(100% - 20px);
            margin: 10px;
            background: lavender;
            border: none;
            padding: 8px;
            border-radius: 5px;
        }
        #upload-window {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: rgba(75, 0, 130, 0.9);
            width: 300px;
            border-radius: 10px;
            box-shadow: 0 0 10px violet;
            padding: 10px;
            display: none;
            z-index: 1000;
        }
        #upload-window label, #upload-window input, #upload-window button {
            display: block;
            margin: 8px 0;
        }
        #upload-window input[type="file"] {
            background: lavender;
            border: none;
            padding: 8px;
            border-radius: 5px;
            width: calc(100% - 18px);
        }
        #upload-window button {
            background: lavender;
            border: none;
            padding: 8px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
        }
        #upload-window button:hover {
            background: violet;
            color: white;
        }
        .done-button {
            background: lavender;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            margin-left: 10px;
            cursor: pointer;
        }
        .done-button:hover {
            background: violet;
            color: white;
        }
    </style>
</head>
<body>
    <div id="title-ribbon">
        <div id="title-text" tabindex="0" role="button" aria-label="Home button">babygirl</div>
        <div id="average-score">Average Score: <span id="avg-score-value">0</span></div>
    </div>
    <div id="left-panel">
        <div class="tab" id="tab-pending">Pending Tasklist</div>
        <div class="tab" id="tab-mind">What's on your mind</div>
        <div class="tab" id="tab-drive">Drive</div>
        <div class="tab" id="tab-active">Active Tasklist</div>
        <div class="tab" id="tab-scoring">Scoring</div>
    </div>
    <div id="main-content">
        <div id="intro-screen">Welcome to your babygirl site. Placeholder intro text here.</div>
    </div>
    <div id="bottom-ribbon">
        <button id="btn-chatbox">Chatbox</button>
        <button id="btn-upload">Upload</button>
        <button id="btn-weekly-tasks">Weekly Passive Tasks</button>
    </div>
    <div id="floating-output" aria-live="polite" aria-atomic="true"></div>
    <div id="chatbox">
        <div id="chatbox-content"></div>
        <input id="chatbox-input" type="text" placeholder="Type a message...">
    </div>
    <div id="upload-window">
        <label>Upload photo or video proof:</label>
        <input type="file" id="upload-file" accept="image/*,video/*">
        <button id="upload-submit">Upload</button>
    </div>
    <script>
        // Utility function to show floating output text
        function showFloatingOutput(text) {
            const output = document.getElementById('floating-output');
            output.textContent = text;
            output.style.opacity = '1';
            output.style.pointerEvents = 'auto';
            clearTimeout(output.hideTimeout);
            output.hideTimeout = setTimeout(() => {
                output.style.opacity = '0';
                output.style.pointerEvents = 'none';
            }, 5000);
        }

        // Home button functionality
        const titleText = document.getElementById('title-text');
        titleText.addEventListener('click', () => {
            showIntroScreen();
        });

        function showIntroScreen() {
            const mainContent = document.getElementById('main-content');
            mainContent.innerHTML = '<div id="intro-screen">Welcome to your babygirl site. Placeholder intro text here.</div>';
        }

        // Tabs and their content handlers
        const tabs = document.querySelectorAll('#left-panel .tab');
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                handleTabClick(tab.id);
            });
        });

        // Example pending tasks (edit as needed)
        const pendingTasks = [
            'Task 1: Placeholder for pending task',
            'Task 2: Another pending task',
            'Task 3: One more pending task'
        ];

        // Example mind options (edit as needed)
        const mindOptions = [
            'Option 1: Placeholder for mind option',
            'Option 2: Another mind option',
            'Option 3: Yet another mind option',
            'Option 4: Final mind option'
        ];

        // Example drive options (edit as needed)
        const drivePanels = [
            ['Drive Option A1', 'Drive Option B1', 'Drive Option C1'],
            ['Drive Option A2', 'Drive Option B2', 'Drive Option C2'],
            ['Drive Option A3', 'Drive Option B3', 'Drive Option C3']
        ];

        // Active tasks list (max 5)
        let activeTasks = [];
        // Scoring data
        let scoringData = [];

        function handleTabClick(tabId) {
            const mainContent = document.getElementById('main-content');
            switch(tabId) {
                case 'tab-pending':
                    mainContent.innerHTML = '<h2>Pending Tasklist</h2>';
                    pendingTasks.forEach((task, i) => {
                        const taskEl = document.createElement('div');
                        taskEl.className = 'pending-task';
                        taskEl.textContent = task;
                        taskEl.addEventListener('click', () => {
                            showFloatingOutput(`Pending task output: ${task}`);
                        });
                        mainContent.appendChild(taskEl);
                    });
                    break;
                case 'tab-mind':
                    mainContent.innerHTML = '<h2>What\'s on your mind</h2>';
                    mindOptions.forEach((option, i) => {
                        const optionEl = document.createElement('div');
                        optionEl.className = 'mind-option';
                        optionEl.textContent = option;
                        optionEl.addEventListener('click', () => {
                            showFloatingOutput(`Mind option output: ${option}`);
                        });
                        mainContent.appendChild(optionEl);
                    });
                    break;
                case 'tab-drive':
                    mainContent.innerHTML = '<h2>Drive</h2><div id="drive-panel-1"></div>';
                    const panel1 = document.getElementById('drive-panel-1');
                    drivePanels[0].forEach((option, i) => {
                        const optionEl = document.createElement('div');
                        optionEl.className = 'drive-option';
                        optionEl.textContent = option;
                        optionEl.addEventListener('click', () => {
                            showFloatingOutput(`Drive option output: ${option}`);
                        });
                        panel1.appendChild(optionEl);
                    });
                    // For full cascading effect, add more panels and event listeners as needed
                    break;
                case 'tab-active':
                    mainContent.innerHTML = '<h2>Active Tasklist</h2>';
                    activeTasks.forEach((task, i) => {
                        const taskEl = document.createElement('div');
                        taskEl.className = 'active-task';
                        taskEl.textContent = task;
                        // In a real app, only show "done" button for dom if logged in as dom
                        if (confirm("Are you the dom? (For demo, click OK)")) {
                            const doneBtn = document.createElement('button');
                            doneBtn.className = 'done-button';
                            doneBtn.textContent = 'Done';
                            doneBtn.addEventListener('click', () => {
                                activeTasks.splice(i, 1);
                                handleTabClick('tab-active');
                            });
                            taskEl.appendChild(doneBtn);
                        }
                        mainContent.appendChild(taskEl);
                    });
                    break;
                case 'tab-scoring':
                    mainContent.innerHTML = '<h2>Scoring</h2><table class="scoring-table"><tr><th>Task</th><th>Score (out of 100)</th></tr></table>';
                    const table = mainContent.querySelector('.scoring-table');
                    scoringData.forEach((score, i) => {
                        const row = document.createElement('tr');
                        const taskCell = document.createElement('td');
                        taskCell.textContent = score.task;
                        const scoreCell = document.createElement('td');
                        scoreCell.textContent = score.score;
                        row.appendChild(taskCell);
                        row.appendChild(scoreCell);
                        table.appendChild(row);
                    });
                    break;
                default:
                    mainContent.innerHTML = '<div>Unknown tab.</div>';
            }
        }

        // Chatbox functionality
        const chatboxBtn = document.getElementById('btn-chatbox');
        const chatbox = document.getElementById('chatbox');
        const chatboxContent = document.getElementById('chatbox-content');
        const chatboxInput = document.getElementById('chatbox-input');
        chatboxBtn.addEventListener('click', () => {
            chatbox.style.display = chatbox.style.display === 'block' ? 'none' : 'block';
        });
        chatboxInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter' && chatboxInput.value) {
                const msg = document.createElement('div');
                msg.textContent = chatboxInput.value;
                chatboxContent.appendChild(msg);
                chatboxInput.value = '';
                chatboxContent.scrollTop = chatboxContent.scrollHeight;
            }
        });

        // Upload window functionality
        const uploadBtn = document.getElementById('btn-upload');
        const uploadWindow = document.getElementById('upload-window');
        uploadBtn.addEventListener('click', () => {
            uploadWindow.style.display = uploadWindow.style.display === 'block' ? 'none' : 'block';
        });
        document.getElementById('upload-submit').addEventListener('click', () => {
            showFloatingOutput('File uploaded. Placeholder for upload confirmation.');
            uploadWindow.style.display = 'none';
        });

        // Weekly passive tasks button
        const weeklyTasksBtn = document.getElementById('btn-weekly-tasks');
        weeklyTasksBtn.addEventListener('click', () => {
            showFloatingOutput('Weekly passive tasks output.');
        });

        // Initialize with intro screen
        showIntroScreen();
    </script>
</body>
</html>
