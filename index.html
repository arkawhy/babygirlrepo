<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>babygirl</title>
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: #000;
      color: white;
      overflow: hidden;
    }
    .container {
      display: grid;
      grid-template-areas:
        'title title'
        'sidebar main'
        'footer footer';
      grid-template-rows: 60px 1fr 60px;
      grid-template-columns: 200px 1fr;
      height: 100vh;
    }
    .title {
      grid-area: title;
      background: #4b0082;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
    }
    .title h1 {
      margin: 0;
      font-size: 28px;
      cursor: pointer;
      color: white;
    }
    .score {
      background: #222;
      padding: 8px 12px;
      border-radius: 8px;
    }
    .sidebar {
      grid-area: sidebar;
      background: #111;
      display: flex;
      flex-direction: column;
      padding-top: 20px;
      gap: 15px;
    }
    .sidebar button {
      background: #6a0dad;
      color: white;
      border: none;
      padding: 10px;
      margin: 0 10px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .sidebar button:hover {
      transform: scale(1.05);
      background: #8a2be2;
    }
    .main {
      grid-area: main;
      padding: 20px;
      overflow-y: auto;
    }
    .footer {
      grid-area: footer;
      background: #222;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
    }
    .footer button {
      background: #6a0dad;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }
    .footer button:hover {
      transform: scale(1.05);
      background: #8a2be2;
    }
    .footer .wide {
      flex-grow: 1;
      margin-left: 10px;
    }
    .output {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background: #8a2be2;
      color: white;
      padding: 10px;
      border-radius: 10px;
      opacity: 0.9;
      animation: fadeOut 5s forwards;
    }
    @keyframes fadeOut {
      0% { opacity: 0.9; }
      100% { opacity: 0; display: none; }
    }
    .tab-panel {
      background: #1a1a1a;
      border-radius: 10px;
      padding: 15px;
      margin: 10px 0;
      cursor: pointer;
      transition: all 0.2s;
    }
    .tab-panel:hover {
      transform: scale(1.02);
      background: #2b2b2b;
    }
    .hidden { display: none; }
    .chatbox {
      max-height: 200px;
      overflow-y: auto;
      background: #333;
      padding: 10px;
      border-radius: 10px;
    }
    .chatbox p {
      margin: 4px 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      color: white;
    }
    th, td {
      border: 1px solid #555;
      padding: 8px;
      text-align: left;
    }
    input[type="number"] {
      width: 60px;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="title">
      <h1 onclick="showIntro()">babygirl</h1>
      <div class="score">Avg. Score: <span id="avgScore">--</span></div>
    </div>
    <div class="sidebar">
      <button onclick="showTab('pending')">Pending Tasks</button>
      <button onclick="showTab('mind')">What's on Your Mind</button>
      <button onclick="showTab('drive')">Drive</button>
      <button onclick="showTab('active')">Active Tasks</button>
      <button onclick="showTab('scoring')">Scoring</button>
    </div>
    <div class="main" id="main">
      <div id="intro">Welcome, babygirl. This is your dashboard. Awaiting your input...</div>
    </div>
    <div class="footer">
      <button onclick="toggleChat()">Chatbox</button>
      <button onclick="uploadTask()">Upload</button>
      <button class="wide" onclick="addWeeklyTask()">Weekly Passive Tasks</button>
    </div>
  </div>
  <div id="chat" class="chatbox hidden"></div>
  <script>
    const main = document.getElementById('main');
    let activeTasks = [];
    let scores = [];

    function showIntro() {
      main.innerHTML = '<div id="intro">Welcome, babygirl. This is your dashboard. Awaiting your input...</div>';
    }

    function outputMessage(msg) {
      const msgBox = document.createElement('div');
      msgBox.className = 'output';
      msgBox.innerText = msg;
      document.body.appendChild(msgBox);
      setTimeout(() => msgBox.remove(), 5000);
    }

    function showTab(tab) {
      if (tab === 'pending') {
        main.innerHTML = '<h2>Pending Tasks</h2>' +
          [...Array(3).keys()].map(i => `<div class="tab-panel" onclick="addToActive('Pending Task ${i+1}')">Pending Task ${i+1}</div>`).join('');
      } else if (tab === 'mind') {
        main.innerHTML = '<h2>What's on Your Mind</h2>' +
          [...Array(4).keys()].map(i => `<div class="tab-panel" onclick="addToActive('Mind Choice ${i+1}')">Mind Choice ${i+1}</div>`).join('');
      } else if (tab === 'drive') {
        let content = '';
        for (let i = 1; i <= 3; i++) {
          content += `<div class="tab-panel" onclick="cascadeDrive(${i}, '')">Drive Level 1 - ${i}</div>`;
        }
        main.innerHTML = '<h2>Drive</h2>' + content;
      } else if (tab === 'active') {
        main.innerHTML = '<h2>Active Tasks</h2>' +
          activeTasks.map((t, i) => `<div>${t} <button onclick="markDone(${i})">Done</button></div>`).join('');
      } else if (tab === 'scoring') {
        main.innerHTML = '<h2>Scoring</h2><table><tr><th>Task</th><th>Score</th></tr>' +
          scores.map((s, i) => `<tr><td>${s.task}</td><td><input type='number' min='0' max='100' onchange='updateScore(${i}, this.value)' /></td></tr>`).join('') + '</table>';
      }
    }

    function addToActive(text) {
      outputMessage(text);
      if (activeTasks.length >= 5) activeTasks.shift();
      activeTasks.push(text);
    }

    function markDone(index) {
      const task = activeTasks[index];
      activeTasks.splice(index, 1);
      scores.push({ task, score: 0 });
      showTab('active');
    }

    function updateScore(index, val) {
      scores[index].score = Number(val);
      const avg = scores.reduce((a, b) => a + b.score, 0) / scores.length;
      document.getElementById('avgScore').innerText = avg.toFixed(2);
    }

    function cascadeDrive(level, path) {
      if (level === 4) {
        addToActive(`Drive Path: ${path}`);
        return;
      }
      main.innerHTML = `<h2>Drive Level ${level}</h2>` +
        [...Array(3).keys()].map(i => `<div class="tab-panel" onclick="cascadeDrive(${level+1}, '${path} ${level}.${i+1}')">Choice ${level}.${i+1}</div>`).join('');
    }

    function toggleChat() {
      const chat = document.getElementById('chat');
      chat.classList.toggle('hidden');
      chat.innerHTML += '<p><b>You:</b> [edit this message]</p>';
    }

    function uploadTask() {
      outputMessage("Upload button clicked. [connect upload logic]");
    }

    function addWeeklyTask() {
      outputMessage("Weekly passive task triggered.");
    }
  </script>
</body>
</html>
